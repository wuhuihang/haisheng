{"version":3,"sources":["uni-app:///main.js","webpack:///C:/work/haisheng_m/pages/make_money/issue_reward.vue?6c61","webpack:///C:/work/haisheng_m/pages/make_money/issue_reward.vue?8039","webpack:///C:/work/haisheng_m/pages/make_money/issue_reward.vue?5dfe","webpack:///C:/work/haisheng_m/pages/make_money/issue_reward.vue?495a","uni-app:///pages/make_money/issue_reward.vue","webpack:///C:/work/haisheng_m/pages/make_money/issue_reward.vue?f51c"],"names":["createPage","Page","renderjs","component","options","__file","components","wPicker","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,sD,mDACAA,EAAWC,a;;;;2DCHX,8RACIC,EADJ,uKASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,oCACZ,aAAAF,E;;;;2GCvBf,6nC;;;;2GCAA,8LAAIG,EAAa,CACfC,QAAS,WACP,OAAO,oJAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCdvB,2vBAAosB,eAAG,G;;;;0ICsGvsB,uB,84BAGA,CACA,KADA,WAEA,OACA,mBACA,cACA,cACA,yDACA,aACA,OACA,OACA,YACA,YACA,QACA,UACA,gBACA,iBACA,oBACA,cACA,gBACA,gBACA,YACA,SACA,aACA,aAEA,WACA,eACA,aACA,WACA,aACA,CACA,UACA,cAEA,CACA,UACA,iBAGA,eACA,aACA,WACA,iBACA,YAEA,cACA,QACA,WAEA,WACA,aACA,aACA,kBAEA,uBACA,aACA,UACA,QACA,cAGA,kBACA,iBACA,oBACA,gBACA,oBACA,gBACA,iBACA,aAGA,OAvEA,WAwEA,kBACA,eACA,6BACA,6BACA,sBACA,uBAGA,OAhFA,WAkFA,kDACA,kDAEA,8BACA,8BACA,0CACA,sCACA,8BACA,kCACA,oCACA,4CACA,sCACA,mDACA,sDAEA,YACA,WAEA,SACA,eADA,WAEA,cACA,kDAGA,SANA,WAMA,WACA,+CACA,MACA,oCAGA,wDACA,iCACA,oCACA,kBACA,kBACA,aACA,uBAEA,wBAGA,UAvBA,SAuBA,GAGA,2CACA,UACA,kBACA,gBACA,aACA,kBACA,sBACA,oBACA,kBACA,oBACA,kBACA,oBACA,aACA,aACA,8BACA,cACA,mBACA,WACA,qBAKA,iBACA,aACA,eACA,wBAIA,eACA,cACA,sCAOA,QAjEA,WAiEA,WACA,yDACA,QACA,oCAEA,kBACA,gBACA,aACA,kCACA,wCACA,kFAMA,OAjFA,WAiFA,WACA,0CACA,wDAIA,6EAKA,yCACA,mCACA,+CACA,mDACA,+BACA,eACA,iCACA,uBACA,mBACA,eACA,eACA,uBACA,+BACA,mBACA,2BACA,uCACA,2BACA,+BACA,mCAEA,kBACA,aACA,6BA1BA,qCA8BA,UAtHA,WAuHA,oBAGA,WA1HA,SA0HA,GACA,yBACA,yBACA,gDAGA,WAhIA,SAgIA,GACA,gCAGA,WApIA,SAoIA,GACA,+BACA,0DAGA,aAzIA,SAyIA,GACA,iCACA,sDAGA,eA9IA,WA+IA,WACA,eACA,aACA,oBACA,iBACA,mBACA,kBACA,gCACA,iBACA,oBAIA,iBACA,eACA,sBAKA,aAnKA,SAmKA,GACA,WACA,8FACA,aACA,aACA,qBACA,oBACA,WACA,eACA,QADA,SACA,GACA,qCACA,aACA,iBAEA,oBAEA,6BASA,WA5LA,WAiMA,IAFA,SACA,KACA,eACA,IACA,KACA,GACA,OACA,UAEA,GACA,QAGA,IADA,UACA,aACA,GACA,QAEA,gBAEA,iBACA,YAEA,wBACA,iCAIA,IADA,SACA,eACA,GACA,aACA,SAEA,wBAIA,eACA,eACA,wCACA,0CACA,kDACA,wD;;;;2DCrbA,mzCAAqwC,eAAG,G","file":"pages/make_money/issue_reward.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/make_money/issue_reward.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./issue_reward.vue?vue&type=template&id=63a8fb4c&\"\nvar renderjs\nimport script from \"./issue_reward.vue?vue&type=script&lang=js&\"\nexport * from \"./issue_reward.vue?vue&type=script&lang=js&\"\nimport style0 from \"./issue_reward.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/make_money/issue_reward.vue\"\nexport default component.exports","export * from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./issue_reward.vue?vue&type=template&id=63a8fb4c&\"","var components = {\n  wPicker: function() {\n    return import(\n      /* webpackChunkName: \"components/w-picker/w-picker\" */ \"@/components/w-picker/w-picker.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./issue_reward.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./issue_reward.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"box\">\r\n\t\t<view class=\"white-box\">\r\n\t\t\t<view class=\"tips\"><text class=\"iconfont icontishi\"></text> 发布悬赏前请先编辑好草稿箱内文章!</view>\r\n\t\t\t<view class=\"set-li all-line\">\r\n\t\t\t\t<view class=\"title \">\r\n\t\t\t\t\t悬赏总金币\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<input class=\"input\" v-model=\"rewardTotalMoney\" type=\"text\" :placeholder=\"moneyPlaceholder\">\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"set-li\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t分享朋友圈(金币/次)\r\n\t\t\t\t</view>\r\n\t\t\t\t<input v-model=\"shareMoney\" class=\"right\" type=\"text\" placeholder=\"请设置\">\r\n\t\t\t</view>\r\n\t\t\t<view class=\"set-li\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t阅读金额(金币/次)\r\n\t\t\t\t</view>\r\n\t\t\t\t<input v-model=\"readingMoney\" class=\"right\" type=\"text\" placeholder=\"请设置\">\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"white-box\">\r\n\t\t\t<view class=\"set-li\" @tap=\"ageChange\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t年龄段选择\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<view>{{chooseAge}}</view>\r\n\t\t\t\t\t<view class=\"iconfont iconxiayibu\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"set-li\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t性别选择\r\n\t\t\t\t</view>\r\n\t\t\t\t<picker @change=\"genderChange\" :value=\"gender_index\" :range=\"gender_map\" range-key=\"title\">\r\n\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t<view>{{gender_map[gender_index].title}} </view>\r\n\t\t\t\t\t\t<view class=\"iconfont iconxiayibu\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"white-box\">\r\n\t\t\t<navigator class=\"set-li\" url=\"/pages/make_money/issue_map\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t广告投入地区\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<view v-if=\"regionFlag=='ALL'\">{{region_map[regionFlag]}}</view>\r\n\t\t\t\t\t<view v-if=\"regionFlag=='REGION'\">{{province}}{{city}}{{region}}</view>\r\n\t\t\t\t\t<view v-if=\"regionFlag=='RANGE'\">{{address}}{{distance_zh}}</view>\r\n\t\t\t\t\t<view class=\"iconfont iconxiayibu\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</navigator>\r\n\t\t\t<view class=\"set-li\" @tap=\"chooseIdentity\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t选择发布人\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<view>{{identityName}}</view>\r\n\t\t\t\t\t<view class=\"iconfont iconxiayibu\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"set-li\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t再次分享给奖励\r\n\t\t\t\t</view>\r\n\t\t\t\t<picker @change=\"timeChange\" :value=\"time_index\" :range=\"time_map\" range-key=\"title\">\r\n\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t<view>{{time_map[time_index].title}}</view>\r\n\t\t\t\t\t\t<view class=\"iconfont iconxiayibu\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<navigator url=\"/pages/member/article_choose\" class=\"set-li\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t选择文章\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t<view class=\"text\">{{articleTitle}}</view>\r\n\t\t\t\t\t<view class=\"iconfont iconxiayibu\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</navigator>\r\n\t\t</view>\r\n\t\t<button class=\"no-btn submit\" @tap=\"reward\" :loading=\"is_load\">\r\n\t\t\t提交\r\n\t\t</button>\r\n\r\n\t\t<w-picker :visible.sync=\"ageVisible\" mode=\"linkage\" :value=\"ageRegion1\" :options=\"ageOptions\" :level=\"2\" default-type=\"name\"\r\n\t\t :default-props=\"ageProps1\" @confirm=\"ageConfirm\" ref=\"linkage\"></w-picker>\r\n\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport wPicker from \"@/components/w-picker/w-picker.vue\"\r\n\timport {\r\n\t\tmapState\r\n\t} from 'vuex'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t\"againShareTime\": \"0\", //再次分享时间 \r\n\t\t\t\t\"ageFloor\": '不限', //年龄下限\r\n\t\t\t\t\"ageUpper\": '不限', //年龄上限 ,\r\n\t\t\t\t\"customerSeqId\": this.$common.getLocalSync('customerSeqId'),\r\n\t\t\t\t\"gender\": \"ALL\", //性别 MALE', 'FEMALE'\r\n\t\t\t\t\"lat1\": 0,\r\n\t\t\t\t\"lon1\": 0,\r\n\t\t\t\t\"distance\": \"\", //距离 \r\n\t\t\t\t\"province\": \"\",\r\n\t\t\t\t\"city\": \"\",\r\n\t\t\t\t\"region\": \"\", //广告投放地区 洪山\r\n\t\t\t\t\"readingMoney\": \"\", //阅读金额/一次 ,\r\n\t\t\t\t\"regionFlag\": \"ALL\", //地区标记 = ['ALL', 'REGION', 'RANGE']\r\n\t\t\t\t\"rewardTotalMoney\": \"\", //悬赏金额\r\n\t\t\t\t\"shareMoney\": \"\", //分享金额\r\n\t\t\t\t\"articleTitle\": \"\",\r\n\t\t\t\t\"articleSeqId\": \"\",\r\n\t\t\t\tregion_map: {\r\n\t\t\t\t\t\"ALL\": '不限',\r\n\t\t\t\t\t\"REGION\": '按区域',\r\n\t\t\t\t\t\"RANGE\": '按地图',\r\n\t\t\t\t},\r\n\t\t\t\taddress: \"\",\r\n\t\t\t\tdistance_zh: \"\",\r\n\t\t\t\tgender_map: [{\r\n\t\t\t\t\t\ttitle: \"不限\",\r\n\t\t\t\t\t\tvalue: \"ALL\"\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttitle: \"男\",\r\n\t\t\t\t\t\tvalue: \"MALE\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"女\",\r\n\t\t\t\t\t\tvalue: \"FEMALE\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tgender_index: 0,\r\n\t\t\t\ttime_index: 0,\r\n\t\t\t\ttime_map: [{\r\n\t\t\t\t\ttitle: \"再次分享不给奖励\",\r\n\t\t\t\t\tvalue: \"0\"\r\n\t\t\t\t}],\r\n\t\t\t\tageVisible: false,\r\n\t\t\t\tresult: {\r\n\t\t\t\t\tresult: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tageProps1: {\r\n\t\t\t\t\tlabel: \"name\",\r\n\t\t\t\t\tvalue: \"name\",\r\n\t\t\t\t\tchildren: \"child\"\r\n\t\t\t\t},\r\n\t\t\t\tageRegion1: [\"不限\", \"不限\"],\r\n\t\t\t\tageOptions: [{\r\n\t\t\t\t\tname: \"不限\",\r\n\t\t\t\t\tchild: [{\r\n\t\t\t\t\t\tname: \"不限\",\r\n\t\t\t\t\t}]\r\n\t\t\t\t}],\r\n\t\t\t\tchooseAge: '不限-不限',\r\n\t\t\t\tlowestGoldCoin: 0, //最低金币数量\r\n\t\t\t\tsubscriptionRatio: 0, //比例\r\n\t\t\t\tgoldCoinValue: 0, //我的金币数量\r\n\t\t\t\tmoneyPlaceholder: '',\r\n\t\t\t\tidentityName:\"\",//身份名称\r\n\t\t\t\tidentitySeqId:\"\",//身份id\r\n\t\t\t\tis_load: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.pickerInit();\r\n\t\t\tthis.getGold()\r\n\t\t\tthis.lon1 = this.location.lon1;\r\n\t\t\tthis.lat1 = this.location.lat1;\r\n\t\t\tif (!this.lon1 || !this.lat1) {\r\n\t\t\t\tthis.getNowLocation()\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// 选择文章之后赋值\r\n\t\t\tthis.articleSeqId = this.issue_article.articleSeqId;\r\n\t\t\tthis.articleTitle = this.issue_article.articleTitle;\r\n\t\t\t// 选择地区之后赋值\r\n\t\t\tthis.lon1 = this.issue_map.lon1;\r\n\t\t\tthis.lat1 = this.issue_map.lat1;\r\n\t\t\tthis.regionFlag = this.issue_map.regionFlag;\r\n\t\t\tthis.province = this.issue_map.province;\r\n\t\t\tthis.city = this.issue_map.city;\r\n\t\t\tthis.region = this.issue_map.region;\r\n\t\t\tthis.address = this.issue_map.address;\r\n\t\t\tthis.distance_zh = this.issue_map.distance_zh;\r\n\t\t\tthis.distance = this.issue_map.distance;\r\n\t\t\tthis.identityName=this.issue_identity.identityName\r\n\t\t\tthis.identitySeqId=this.issue_identity.identitySeqId\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\twPicker\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tchooseIdentity(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/member/identity?from=issue_reward\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\trecharge() {\r\n\t\t\t\tlet money = this.rewardTotalMoney / this.subscriptionRatio;\r\n\t\t\t\tif (money < 0.01) {\r\n\t\t\t\t\tthis.$box.toast('最低充值0.01元','none');\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$api.post('/o2oGoldCoinRecharge/goldCoinRecharge', {\r\n\t\t\t\t\t\"customerSeqId\": this.customerSeqId,\r\n\t\t\t\t\t\"goldCoinValue\": this.rewardTotalMoney,\r\n\t\t\t\t\t\"rechargeMoney\": money,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tthis.weixinPay(res.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tweixinPay(seqId) {\r\n\t\t\t\tlet self=this;\r\n\t\t\t\t// #ifdef MP\r\n\t\t\t\tthis.$api.post('/payInfo/submitRewardPay',{\r\n\t\t\t\t\tseqId:seqId\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tlet paymentData = res.data;\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\ttimeStamp: paymentData.timeStamp,\r\n\t\t\t\t\t\t\tnonceStr: paymentData.nonceStr,\r\n\t\t\t\t\t\t\tpackage: paymentData.package,\r\n\t\t\t\t\t\t\tsignType: paymentData.signType,\r\n\t\t\t\t\t\t\tpaySign: paymentData.paySign,\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle:\"支付成功\",\r\n\t\t\t\t\t\t\t\t\tcontent:\"文章审核中，请在我的-我的文章查看详情\",\r\n\t\t\t\t\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t\t\t\t\t\tsuccess:function(){\r\n\t\t\t\t\t\t\t\t\t\tif(res.confirm){\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\tcontent: \"支付失败\",\r\n\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (res.code == 10012) {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/login/login_wechat'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\t// 获取金币\r\n\t\t\tgetGold() {\r\n\t\t\t\tthis.$api.get('/o2oCustomerCash/getDataByCustomerSeqId', {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tcustomerSeqId: this.customerSeqId\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\t\tthis.lowestGoldCoin = data.lowestGoldCoin; //最低金币数量\r\n\t\t\t\t\t\tthis.subscriptionRatio = data.subscriptionRatio; //比例\r\n\t\t\t\t\t\tthis.moneyPlaceholder = '最低悬赏' + this.lowestGoldCoin + '金币,1元=' + this.subscriptionRatio + '金币'\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 发布悬赏\r\n\t\t\treward() {\r\n\t\t\t\tif(this.rewardTotalMoney<this.lowestGoldCoin){\r\n\t\t\t\t\tthis.$box.toast('最低悬赏' + this.lowestGoldCoin + '金币','none');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!this.articleSeqId || !this.readingMoney || !this.rewardTotalMoney || !this.shareMoney) {\r\n\t\t\t\t\tthis.$box.toast('请正确填写所有信息','none');\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.$api.post('/o2oOfferReward/insert', {\r\n\t\t\t\t\t\"againShareTime\": this.againShareTime,\r\n\t\t\t\t\t\"ageFloor\": this.ageFloor == '不限' ? '0' : this.ageFloor, //年龄下限\r\n\t\t\t\t\t\"ageUpper\": this.ageUpper == '不限' ? '10000' : this.ageUpper, //年龄上限 ,\r\n\t\t\t\t\t\"articleSeqId\": this.articleSeqId,\r\n\t\t\t\t\t\"city\": this.city,\r\n\t\t\t\t\t\"customerSeqId\": this.customerSeqId,\r\n\t\t\t\t\t\"distance\": this.distance, //距离 \r\n\t\t\t\t\t\"gender\": this.gender, //性别 MALE', 'FEMALE'\r\n\t\t\t\t\t\"lat1\": this.lat1,\r\n\t\t\t\t\t\"lon1\": this.lon1,\r\n\t\t\t\t\t\"province\": this.province,\r\n\t\t\t\t\t\"readingMoney\": this.readingMoney, //读金额/一次 ,\r\n\t\t\t\t\t\"region\": this.region, //广告投放地区 \r\n\t\t\t\t\t\"regionFlag\": this.regionFlag, //地区标记 = ['ALL', 'REGION', 'RANGE']\r\n\t\t\t\t\t\"rewardTotalMoney\": this.rewardTotalMoney,\r\n\t\t\t\t\t\"shareMoney\": this.shareMoney,\r\n\t\t\t\t\t\"identityName\":this.identityName,//身份名称\r\n\t\t\t\t\t\"identitySeqId\":this.identitySeqId//身份id\r\n\t\t\t\t\t\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tthis.weixinPay(res.data.seqId)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tageChange() {\r\n\t\t\t\tthis.ageVisible = true;\r\n\t\t\t},\r\n\t\t\t// 改变年龄\r\n\t\t\tageConfirm(res) {\r\n\t\t\t\tthis.ageFloor = res.value[0]; //年龄下限\r\n\t\t\t\tthis.ageUpper = res.value[1]; //年龄上限 ,\r\n\t\t\t\tthis.chooseAge = this.ageFloor + '-' + this.ageUpper\r\n\t\t\t},\r\n\t\t\t// 改变地区\r\n\t\t\tareaChange(e) {\r\n\t\t\t\tthis.area_index = e.detail.value;\r\n\t\t\t},\r\n\t\t\t// 改变分享时间\r\n\t\t\ttimeChange(e) {\r\n\t\t\t\tthis.time_index = e.detail.value;\r\n\t\t\t\tthis.againShareTime = this.time_map[this.time_index].value\r\n\t\t\t},\r\n\t\t\t// 改变性别\r\n\t\t\tgenderChange(e) {\r\n\t\t\t\tthis.gender_index = e.detail.value;\r\n\t\t\t\tthis.gender = this.gender_map[this.gender_index].value\r\n\t\t\t},\r\n\t\t\t// 获取位置\r\n\t\t\tgetNowLocation() {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (!self.lon1 || !self.lat1) {\r\n\t\t\t\t\t\t\tself.lon1 = res.longitude;\r\n\t\t\t\t\t\t\tself.lat1 = res.latitude;\r\n\t\t\t\t\t\t\tself.$store.commit('saveLocation', {\r\n\t\t\t\t\t\t\t\tlon1: res.longitude,\r\n\t\t\t\t\t\t\t\tlat1: res.latitude\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(errMsg) {\r\n\t\t\t\t\t\tconsole.log(errMsg);\r\n\t\t\t\t\t\tself.locationFail(errMsg)\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 获取位置权限  暂时没用\r\n\t\t\tlocationFail(err) {\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tif (err.errMsg === \"getLocation:fail auth deny\" || err.errMsg === \"getLocation:fail authorize no response\") { // 没有授权，重新授权，兼容iso和Android\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '授权提示',\r\n\t\t\t\t\t\tcontent: \"是否允许开启位置信息\",\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tif (res.confirm) { // 点击确定，则调用位置授权\r\n\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\tsuccess(settingdata) {\r\n\t\t\t\t\t\t\t\t\t\tif (settingdata.authSetting[\"scope.userLocation\"]) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '获取权限成功'\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tself.getNowLocation();\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"获取权限失败\")\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpickerInit() {\r\n\t\t\t\t// 初始化picker\r\n\t\t\t\t// 年龄范围\r\n\t\t\t\tlet obj1 = {};\r\n\t\t\t\tlet one_obj = {}\r\n\t\t\t\tfor (let i = 16; i < 71; i++) {\r\n\t\t\t\t\tlet arr2 = [];\r\n\t\t\t\t\tlet obj2 = {};\r\n\t\t\t\t\tobj1 = {\r\n\t\t\t\t\t\tname: i,\r\n\t\t\t\t\t\tchild: []\r\n\t\t\t\t\t}\r\n\t\t\t\t\tone_obj = {\r\n\t\t\t\t\t\tname: i,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet min_num = i + 1; //年龄下限不能小于上限\r\n\t\t\t\t\tfor (let k = min_num; k < 71; k++) {\r\n\t\t\t\t\t\tobj2 = {\r\n\t\t\t\t\t\t\tname: k\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tobj1.child.push(obj2)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tobj1.child.unshift({\r\n\t\t\t\t\t\tname: '不限'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.ageOptions.push(obj1)\r\n\t\t\t\t\tthis.ageOptions[0].child.push(one_obj)\r\n\t\t\t\t};\r\n\t\t\t\t// 再次分享时间\r\n\t\t\t\tlet time_obj = {};\r\n\t\t\t\tfor (let i = 10; i <= 24; i++) {\r\n\t\t\t\t\ttime_obj = {\r\n\t\t\t\t\t\ttitle: i + \"小时\",\r\n\t\t\t\t\t\tvalue: i\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.time_map.push(time_obj)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tlocation: state => state.location,\r\n\t\t\t\tissue_map: state => state.issue_map,\r\n\t\t\t\tissue_article: state => state.issue_article,\r\n\t\t\t\tissue_identity: state => state.issue_identity\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.tips {\r\n\t\tfont-size: 24rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-left: 30rpx;\r\n\t\tpadding-top: 20rpx;\r\n\t\tcolor: gray;\r\n\r\n\t\t.iconfont {\r\n\t\t\tcolor: $color-primary;\r\n\t\t\tmargin-right: 10rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.white-box {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tbackground: white;\r\n\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t.set-li {\r\n\t\t\tmargin: 0 30rpx;\r\n\t\t\tmin-height: 95rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tborder-bottom: 1px solid #E6E6E6;\r\n\t\t\tfont-size: 28rpx;\r\n\r\n\t\t\t.title {\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t\tline-height: 95rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t\ttext-align: right;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: flex-end;\r\n\r\n\t\t\t\t.text {\r\n\t\t\t\t\twidth: 400rpx;\r\n\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.all-line {\r\n\t\t\tflex-wrap: wrap;\r\n\r\n\t\t\t.title {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmin-height: 95rpx;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t.input {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\ttext-align: left;\r\n\t\t\t\t\twidth: calc(100% - 100rpx);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.primary-btn {\r\n\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.submit {\r\n\t\twidth: 236rpx;\r\n\t\theight: 74rpx;\r\n\t\tbackground: rgba(255, 158, 151, 1);\r\n\t\tborder-radius: 37rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: white;\r\n\t\ttext-align: center;\r\n\t\tline-height: 74rpx;\r\n\t\tmargin: 100rpx auto;\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./issue_reward.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./issue_reward.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}