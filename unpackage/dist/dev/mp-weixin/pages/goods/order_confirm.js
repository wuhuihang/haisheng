(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/order_confirm"],{193:
/*!***************************************************************************!*\
  !*** C:/work/haisheng_m/main.js?{"page":"pages%2Fgoods%2Forder_confirm"} ***!
  \***************************************************************************/
/*! no static exports found */function(e,r,t){"use strict";(function(e){t(/*! uni-pages */4);n(t(/*! vue */2));var r=n(t(/*! ./pages/goods/order_confirm.vue */194));function n(e){return e&&e.__esModule?e:{default:e}}e(r.default)}).call(this,t(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},194:
/*!********************************************************!*\
  !*** C:/work/haisheng_m/pages/goods/order_confirm.vue ***!
  \********************************************************/
/*! no static exports found */function(e,r,t){"use strict";t.r(r);var n=t(/*! ./order_confirm.vue?vue&type=template&id=0bdfac26& */195),o=t(/*! ./order_confirm.vue?vue&type=script&lang=js& */197);for(var i in o)"default"!==i&&function(e){t.d(r,e,(function(){return o[e]}))}(i);t(/*! ./order_confirm.vue?vue&type=style&index=0&lang=scss& */199);var c,a=t(/*! ../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),s=Object(a["default"])(o["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],c);s.options.__file="pages/goods/order_confirm.vue",r["default"]=s.exports},195:
/*!***************************************************************************************!*\
  !*** C:/work/haisheng_m/pages/goods/order_confirm.vue?vue&type=template&id=0bdfac26& ***!
  \***************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,r,t){"use strict";t.r(r);var n=t(/*! -!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_confirm.vue?vue&type=template&id=0bdfac26& */196);t.d(r,"render",(function(){return n["render"]})),t.d(r,"staticRenderFns",(function(){return n["staticRenderFns"]})),t.d(r,"recyclableRender",(function(){return n["recyclableRender"]})),t.d(r,"components",(function(){return n["components"]}))},196:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/work/haisheng_m/pages/goods/order_confirm.vue?vue&type=template&id=0bdfac26& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,r,t){"use strict";var n;t.r(r),t.d(r,"render",(function(){return o})),t.d(r,"staticRenderFns",(function(){return c})),t.d(r,"recyclableRender",(function(){return i})),t.d(r,"components",(function(){return n}));var o=function(){var e=this,r=e.$createElement,t=(e._self._c,e.$common.isAorC(e.order_confirm.orderType)),n=e.$common.isAorC(e.order_confirm.orderType),o=e.__map(e.order_confirm.orderHeadShopList,(function(r,t){var n=e.__map(r.orderDetList,(function(r,t){var n=e._f("formatNum")(r.orginPrice);return{$orig:e.__get_orig(r),f0:n}})),o=e._f("formatNum")(r.logisticsFee),i=e._f("formatNum")(r.couponMoney),c=e._f("formatNum")(r.jfMoney),a=e._f("formatNum")(r.totalMoney);return{$orig:e.__get_orig(r),l0:n,f1:o,f2:i,f3:c,f4:a}})),i=e.$common.isAorC(e.order_confirm.orderType),c=e._f("formatNum")(e.order_confirm.couponMoney),a=e._f("formatNum")(e.order_confirm.jfMoney),s=e._f("formatNum")(e.order_confirm.totalMoney);e._isMounted||(e.e0=function(r){e.receive_mode="PEI_SONG"},e.e1=function(r){e.receive_mode="JI_SHOU"}),e.$mp.data=Object.assign({},{$root:{g0:t,g1:n,l1:o,g2:i,f5:c,f6:a,f7:s}})},i=!1,c=[];o._withStripped=!0},197:
/*!*********************************************************************************!*\
  !*** C:/work/haisheng_m/pages/goods/order_confirm.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************/
/*! no static exports found */function(e,r,t){"use strict";t.r(r);var n=t(/*! -!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_confirm.vue?vue&type=script&lang=js& */198),o=t.n(n);for(var i in n)"default"!==i&&function(e){t.d(r,e,(function(){return n[e]}))}(i);r["default"]=o.a},198:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/work/haisheng_m/pages/goods/order_confirm.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,r,t){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=t(/*! vuex */12);function o(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,c=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){a=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw o}}}}function i(e,r){if(e){if("string"===typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,r):void 0}}function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){d(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var f={data:function(){return{receive_mode:"PEI_SONG",default_address:{},receive_map:{ZI_TI:"自提",PEI_SONG:"物流配送",OFFLINE_SCAN:"线下扫码",JI_SHOU:"寄售"},money_text:{ACTIVE_POINT:"积分",COUPON:"团批劵"},is_loading:!1}},onLoad:function(e){this.loadAddress()},onShow:function(){"COUPON"==this.order_confirm.orderType?this.receive_mode="JI_SHOU":"Y"==this.order_confirm.needLogistic?this.receive_mode="PEI_SONG":this.receive_mode="OFFLINE_SCAN"},computed:s({},(0,n.mapState)({order_confirm:function(e){return e.order_confirm},order_address:function(e){return e.order_address}})),methods:{settle:function(){var r=this;if(!this.is_loading){var t,n=o(this.order_confirm.orderHeadShopList);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.receiveMode=this.receive_mode}}catch(c){n.e(c)}finally{n.f()}if("PEI_SONG"==this.receive_mode){if(!this.order_address.address1)return void this.$box.confirm("请先选择收货地址",!1);this.order_confirm.orderReceiver={address1:this.order_address.address1,address2:this.order_address.address2,receiverMobileNo:this.order_address.mobile,receiverName:this.order_address.consignee}}else this.order_confirm.orderReceiver=null;this.is_loading=!0,this.$api.post("/o2oShopingCart/genOrder",this.order_confirm).then((function(t){if(r.is_loading=!1,200==t.code){var n=t.data;"ACTIVE_POINT"==r.order_confirm.orderType||"COUPON"==r.order_confirm.orderType?(r.$box.toast("下单成功","success"),setTimeout((function(){e.reLaunch({url:"/pages/member/order_detail?sheetId="+n.sheetId})}),600)):r.weixinPay(n.seqId,n.sheetId)}})).catch((function(e){r.is_loading=!1}))}},weixinPay:function(r,t){if("COUPON"!=this.order_confirm.orderType&&"ACTIVE_POINT"!=this.order_confirm.orderType){var n=this;n.$api.post("/payInfo/submitOrderPay",{orderHeadSeqId:r,type:1}).then((function(r){if(200==r.code){var n=r.data;e.requestPayment({timeStamp:n.timeStamp,nonceStr:n.nonceStr,package:n.package,signType:"MD5",paySign:n.paySign,success:function(r){e.showToast({title:"支付成功"})},fail:function(r){e.showModal({content:"支付失败",showCancel:!1})},complete:function(r){console.log(r),setTimeout((function(){e.reLaunch({url:"/pages/member/order_detail?sheetId="+t})}),600)}})}else 10012==r.code&&e.navigateTo({url:"/pages/login/login_wechat"})}))}},loadAddress:function(){var e=this;this.$api.get("/o2oShippingAddress/findPage",{params:{customerSeqId:this.$common.getLocalSync("customerSeqId"),pageno:1,pagesize:1}}).then((function(r){r.code&&200!=r.code||r.list.length>0&&e.$store.commit("saveAddress",r.list[0])}))}},onUnload:function(){this.$store.commit("saveOrderConfirm",{}),this.$store.commit("saveAddress",{})}};r.default=f}).call(this,t(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},199:
/*!******************************************************************************************!*\
  !*** C:/work/haisheng_m/pages/goods/order_confirm.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************************/
/*! no static exports found */function(e,r,t){"use strict";t.r(r);var n=t(/*! -!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_confirm.vue?vue&type=style&index=0&lang=scss& */200),o=t.n(n);for(var i in n)"default"!==i&&function(e){t.d(r,e,(function(){return n[e]}))}(i);r["default"]=o.a},200:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/work/haisheng_m/pages/goods/order_confirm.vue?vue&type=style&index=0&lang=scss& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,r,t){}},[[193,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/goods/order_confirm.js.map