{"version":3,"sources":["uni-app:///main.js","webpack:///C:/work/haisheng_m/pages/goods/detail.vue?d117","webpack:///C:/work/haisheng_m/pages/goods/detail.vue?eae9","webpack:///C:/work/haisheng_m/pages/goods/detail.vue?b9ae","webpack:///C:/work/haisheng_m/pages/goods/detail.vue?5558","uni-app:///pages/goods/detail.vue","webpack:///C:/work/haisheng_m/pages/goods/detail.vue?4b24"],"names":["createPage","Page","renderjs","component","options","__file","components","jyfParser","render","_vm","this","_h","$createElement","f0","_self","_c","_f","good_detail","promptPrice","f1","price1","f2","distributeRate1","f3","logisticFee","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,2C,mDACAA,EAAWC,a;;;;2DCHX,4QACIC,EADJ,uKASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,yBACZ,aAAAF,E;;;;2GCvBf,unC;;;;2GCAA,8LAAIG,EAAa,CACfC,UAAW,WACT,OAAO,oMAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,GAAG,YAAPP,CAAoBA,EAAIQ,YAAYC,cAEzCC,EAAKV,EAAIO,GAAG,YAAPP,CAAoBA,EAAIQ,YAAYG,QAEzCC,EAAKZ,EAAIO,GAAG,YAAPP,CAAoBA,EAAIQ,YAAYK,iBAEzCC,EAAKd,EAAIO,GAAG,YAAPP,CAAoBA,EAAIQ,YAAYO,aAE7Cf,EAAIgB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLhB,GAAIA,EACJM,GAAIA,EACJE,GAAIA,EACJE,GAAIA,MAKRO,GAAmB,EACnBC,EAAkB,GACtBvB,EAAOwB,eAAgB,G;;;;2DCjCvB,qvBAA8rB,eAAG,G;;;;4OCgIjsB,oBACA,mBACA,6BAEA,6C,2nFAIA,KACA,KACA,KACA,K,EACA,CACA,KADA,WAEA,OACA,YACA,aACA,mBACA,aACA,YACA,YAEA,iBACA,kBACA,qBAEA,WACA,iCAGA,YACA,UACA,QACA,aAEA,eACA,eACA,mCAGA,OA5BA,SA4BA,GACA,UACA,mBACA,cACA,EAEA,0CAGA,8CAEA,sBACA,yCACA,kBACA,eACA,cAEA,uBACA,kBACA,MAGA,OAlDA,WAkDA,WACA,mBACA,kBAEA,wHAEA,mBAFA,cAEA,EAFA,iBAIA,mBAJA,OAIA,OAJA,qDASA,kBA/DA,SA+DA,GACA,OACA,gCACA,6FAIA,SAEA,WAFA,SAEA,GACA,YACA,UACA,kDAGA,eARA,WAQA,WACA,oDACA,QACA,QACA,oBAEA,kBACA,gBACA,IADA,EACA,SADA,IAEA,kBAFA,IAEA,0CAEA,kCAJA,8BAMA,aAEA,kCAEA,kBACA,qBAIA,WA9BA,WA+BA,oBACA,mBAEA,SAlCA,WAmCA,wBACA,mBAEA,UAtCA,WAuCA,mBAGA,QA1CA,SA0CA,GAEA,WACA,WACA,aACA,YACA,mBACA,eAGA,6CACA,eACA,QADA,SACA,GACA,aACA,kBAMA,UA9DA,WA8DA,WACA,8BACA,eACA,8BACA,oBACA,kCACA,4CACA,kBACA,gBACA,aACA,mBACA,mCACA,6CACA,kDACA,8BACA,mBAKA,YAlFA,WAkFA,WACA,6CACA,GACA,sDACA,QACA,4DAEA,kBACA,cACA,UACA,iBAEA,uBAMA,aApGA,SAoGA,GACA,oCACA,oDACA,gBAEA,gBACA,aACA,OACA,kBACA,kBACA,oBACA,gBACA,eACA,oBACA,0BACA,gBACA,mBACA,aACA,eACA,YACA,0BAUA,YAlIA,SAkIA,KACA,qBACA,wCACA,mC;;;;2DCvVA,6yCAA+vC,eAAG,G","file":"pages/goods/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/goods/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=f0a9f5ba&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/goods/detail.vue\"\nexport default component.exports","export * from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=f0a9f5ba&\"","var components = {\n  jyfParser: function() {\n    return import(\n      /* webpackChunkName: \"components/jyf-parser/jyf-parser\" */ \"@/components/jyf-parser/jyf-parser.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"formatNum\")(_vm.good_detail.promptPrice)\n\n  var f1 = _vm._f(\"formatNum\")(_vm.good_detail.price1)\n\n  var f2 = _vm._f(\"formatNum\")(_vm.good_detail.distributeRate1)\n\n  var f3 = _vm._f(\"formatNum\")(_vm.good_detail.logisticFee)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1,\n        f2: f2,\n        f3: f3\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"box\" v-if=\"good_detail.promptPrice\">\r\n\t\t<view class=\"goods-box\">\r\n\t\t\t<swiper class=\"swiper-container goods-box\" :autoplay=\"true\" :interval=\"4000\" :circular=\"true\" :indicator-dots=\"true\"\r\n\t\t\t indicator-active-color=\"#FC3F78\" indicator-color=\"#cccccc\">\r\n\t\t\t\t<block v-for=\"(item,k) in good_detail.o2oChgPicList\" :key=\"k\">\r\n\t\t\t\t\t<swiper-item class=\"swiper-wrapper\">\r\n\t\t\t\t\t\t<image lazy-load class=\"image-wrapper img\" :class=\"[item.loaded]\" @load=\"onImageLoad('good_detail',k)\" :src=\"item.url\" mode=\"aspectFill\" lazy-load=\"true\" :data-index=\"k\" @tap=\"previewPhoto\"></image>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</block>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t\t<view class=\"title-box\">\r\n\t\t\t<view class=\"price\">\r\n\t\t\t\t<view class=\"number\">\r\n\t\t\t\t\t￥{{good_detail.promptPrice | formatNum}}\r\n\t\t\t\t\t<text class=\"ex_money\">￥{{good_detail.price1 | formatNum}} </text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tips-box\">\r\n\t\t\t\t\t<view class=\"bg-btn\">分享可得￥{{good_detail.distributeRate1 | formatNum}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t<view class=\"text\">{{good_detail.spuTitle}}</view>\r\n\t\t\t\t<!-- #ifdef MP -->\r\n\t\t\t\t<button open-type=\"share\" class=\"btn-share iconfont iconfenxiang\"></button>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t\t<view class=\"express-box\">\r\n\t\t\t<view>\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t快递\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price\" v-if=\"good_detail.logisticPayType=='CUSTOMER'\">\r\n\t\t\t\t\t￥{{good_detail.logisticFee | formatNum}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price\" v-else>\r\n\t\t\t\t\t免运费\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"sell-num\" style=\"display: none;\">销售量2001</view>\r\n\t\t</view>\r\n\t\t<!-- 店铺名称 -->\r\n\t\t<navigator :url=\"'shop?merchantShopId='+good_detail.merchantShopId\" class=\"shop-box\">\r\n\t\t\t<view class=\"show-icon\">\r\n\t\t\t\t<image lazy-load class=\"img\" src=\"../../static/images/shop-icon.png\" mode=\"aspectFill\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"name-box\">\r\n\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t{{good_detail.merchantShopName}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"score-box\">\r\n\t\t\t\t\t<score :activeScore='good_detail.score*1'></score>\r\n\t\t\t\t\t<view class=\"point\"  style=\"display: none;\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"goto\" :url=\"'shop?merchantShopId='+good_detail.merchantShopId\">\r\n\t\t\t\t进店逛逛\r\n\t\t\t\t<view class=\"iconfont iconxiayibu\"></view>\r\n\t\t\t</view>\r\n\t\t</navigator>\r\n\t\t<!-- 产品详情 -->\r\n\t\t<view class=\"good-intro\" v-if=\"good_detail.o2oBigText\">\r\n\t\t\t<view class=\"tab-li active\">产品详情</view>\r\n\t\t\t<!-- <view class=\"tab-li active\">商品评价</view> -->\r\n\t\t</view>\r\n\t\t<jyf-parser class=\"good-detail\" :html=\"good_detail.o2oBigText.content\" lazy-load ref=\"article\" selectable\r\n\t\t show-with-animation use-anchor>加载中...</jyf-parser>\r\n\t\t\r\n\t\t<!-- 评价  暂时用不上 -->\r\n\t\t<view class=\"good-comment\" style=\"display: none;\">\r\n\t\t\t<view class=\"comment-li\">\r\n\t\t\t\t<view class=\"name-box\">\r\n\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t<image lazy-load class=\"img\" src=\"../../static/images/shop-icon.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<text class=\"name\">用户名</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"time\">2020-04-05</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"comment-text\">很喜欢，超级满意的一次购物体验……\r\n\t\t\t\t\t很喜欢，超级满意的……（用户评论顶多两行文案,后面的省略号）</view>\r\n\t\t\t\t<view class=\"comment-img\">\r\n\t\t\t\t\t<image lazy-load class=\"img\" src=\"../../static/images/shop-icon.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<image lazy-load class=\"img\" src=\"../../static/images/shop-icon.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<image lazy-load class=\"img\" src=\"../../static/images/shop-icon.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"blank\" :class=\"{'padd-safe':shapedScreen}\"></view>\r\n\t\t<view class=\"fix-box\" :class=\"{'padd-safe':shapedScreen}\">\r\n\t\t\t<view class=\"fix-btn\">\r\n\t\t\t\t<navigator class=\"iconfont icondianpu1\" :url=\"'shop?merchantShopId='+good_detail.merchantShopId\"></navigator>\r\n\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t店铺\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<button open-type=\"contact\" class=\"fix-btn no-btn\">\r\n\t\t\t\t<view class=\"iconfont iconkefu\"></view>\r\n\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t客服\r\n\t\t\t\t</view>\r\n\t\t\t</button>\r\n\t\t\t<view class=\"fix-btn\">\r\n\t\t\t\t<navigator url=\"/pages/goods/shop_car\" class=\"iconfont icongouwuche1\">\r\n\t\t\t\t\t<view class=\"good-num\" v-if=\"cart_num!==0\">{{cart_num}}</view>\r\n\t\t\t\t</navigator>\r\n\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t购物车\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"border-btn\" @tap=\"intoCart\" :class=\"{'visi-hidden':good_detail.spuType=='VIRTUAL'}\">加入购物车</view>\r\n\t\t\t<view class=\"bg-btn\" @tap=\"introOrder\">立即购买</view>\r\n\t\t\t<!-- #ifdef MP -->\r\n\t\t\t<button v-if=\"!is_login\" class=\"confirm-btn\" open-type=\"getUserInfo\" @getuserinfo=\"wxLogin\">微信授权登录</button>\r\n\t\t\t<!-- #endif -->\r\n\t\t</view>\r\n\t\t<add-cart @specChoose='chooseType' @cartClose=\"closeCart\" @cartReload='loadCartNum' v-if=\"cart_show\" :showType=\"pup_type\" :specList.sync=\"good_detail.o2oSpuSpecList\"\r\n\t\t :spuSpecSkuMap.sync=\"good_detail.o2oSpuSpecSkuMap\" :goodDetail.sync=\"good_detail\"></add-cart>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport addCart from './components/add-cart.vue'\r\n\timport score from '@/components/score.vue'\r\n\timport Vue from 'vue'\r\n\timport {mapState} from 'vuex'\r\n\timport jwt_decode from \"jwt-decode\";\r\n\timport jyfParser from '@/components/jyf-parser/jyf-parser';\r\n\timport {\r\n\t\tgetProvider,\r\n\t\tgetCode\r\n\t} from '@/common/js/login/newlogin.js'\r\n\tlet provider=\"\";\r\n\tlet seqId = \"\";\r\n\tlet merchantShopId = \"\"\r\n\tlet shareCode=\"\"//分享商品给我的人的邀请码\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tis_login:false,\r\n\t\t\t\tcart_show: false,\r\n\t\t\t\tpup_type: \"shopcar\", //弹窗类型\r\n\t\t\t\tgood_detail: {\r\n\t\t\t\t\to2oBigText: {\r\n\t\t\t\t\t\tcontent: \"\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\to2oChgPicList: [],\r\n\t\t\t\t\to2oSpuSpecList: [],\r\n\t\t\t\t\to2oSpuSpecSkuMap: []\r\n\t\t\t\t},\r\n\t\t\t\tcart_num:0,\r\n\t\t\t\tshapedScreen:this.shapedScreen\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\taddCart,\r\n\t\t\tscore,\r\n\t\t\tjyfParser\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState({\r\n\t\t\t\tuser:state=>state.user\r\n\t\t\t})\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tseqId = option.seqId;\r\n\t\t\tmerchantShopId = option.merchantShopId;\r\n\t\t\tshareCode=option.shareCode;\r\n\t\t\tif(shareCode){\r\n\t\t\t\t// 分享链接进来\r\n\t\t\t\tthis.$common.setLocal('good_shareCode',shareCode)\r\n\t\t\t}else {\r\n\t\t\t\t// 去其他页面之后返回到商品页\r\n\t\t\t\tshareCode=this.$common.getLocalSync('good_shareCode')\r\n\t\t\t}\r\n\t\t\tthis.loadGoodDetail();\r\n\t\t\tlet local_token=this.$common.getLocalSync('token');\r\n\t\t\tthis.is_login=local_token?true:false;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: \"加载中\"\r\n\t\t\t})\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t}, 600);\r\n\t\t\t// console.log(this.user.shareCode);\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.loadCartNum()\r\n\t\t\tthis.cart_show = false;\r\n\t\t\t// #ifdef MP\r\n\t\t\t(async () => {\r\n\t\t\t\t//获取服务商信息\r\n\t\t\t\tprovider = await getProvider();\r\n\t\t\t\t//获取code\r\n\t\t\t\tthis.code = await getCode(provider[0])\r\n\t\t\t})()\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t// #ifdef MP\r\n\t\tonShareAppMessage(res) {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: this.good_detail.spuTitle,\r\n\t\t\t\tpath: '/pages/goods/detail?seqId='+seqId+'&merchantShopId='+merchantShopId+'&shareCode='+this.user.shareCode\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\tmethods: {\r\n\t\t\t// 选择规格\r\n\t\t\tchooseType(e) {\r\n\t\t\t\tlet key = e.key;\r\n\t\t\t\tlet index = e.index;\r\n\t\t\t\tthis.good_detail.o2oSpuSpecList[key].spec_choose = index\r\n\t\t\t},\r\n\t\t\t// 获取商品详情\r\n\t\t\tloadGoodDetail() {\r\n\t\t\t\tthis.$api.get('/o2oSpu/getAllInfoByPkAndshopSeqId', {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tseqId: seqId,\r\n\t\t\t\t\t\tmerchantShopId: merchantShopId\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tlet data=res.data\r\n\t\t\t\t\t\tfor (let item of data.o2oSpuSpecList) {\r\n\t\t\t\t\t\t\t// 默认选中第一个\r\n\t\t\t\t\t\t\tVue.set(item, 'spec_choose', 0)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(data.spuLabel){\r\n\t\t\t\t\t\t\t// 转成数组\r\n\t\t\t\t\t\t\tdata.spuLabel=data.spuLabel.split(',')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdata.shareCode=shareCode||\"\"\r\n\t\t\t\t\t\tthis.good_detail = data;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tintroOrder() {\r\n\t\t\t\tthis.pup_type = 'buy';\r\n\t\t\t\tthis.cart_show = true\r\n\t\t\t},\r\n\t\t\tintoCart() {\r\n\t\t\t\tthis.pup_type = 'shopcar'\r\n\t\t\t\tthis.cart_show = true\r\n\t\t\t},\r\n\t\t\tcloseCart() {\r\n\t\t\t\tthis.cart_show = false\r\n\t\t\t},\r\n\t\t\t// 微信登录\r\n\t\t\twxLogin(e) {\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (!this.code) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '正在加载中，稍等一下',\r\n\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (e.detail && e.detail.errMsg == 'getUserInfo:ok') {\r\n\t\t\t\t\tuni.getUserInfo({\r\n\t\t\t\t\t\tsuccess(info_res) {\r\n\t\t\t\t\t\t\tthat.info_res = info_res;\r\n\t\t\t\t\t\t\tthat.sendLogin()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} \r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tsendLogin() {\r\n\t\t\t\tthis.$api.post('/login/save', {\r\n\t\t\t\t\tcode: this.code,\r\n\t\t\t\t\trawData: this.info_res.rawData,\r\n\t\t\t\t\tiv: this.info_res.iv,\r\n\t\t\t\t\tsignature: this.info_res.signature,\r\n\t\t\t\t\tencryptedData: this.info_res.encryptedData\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tlet token = res.data;\r\n\t\t\t\t\t\tlet user_json =jwt_decode(token);\r\n\t\t\t\t\t\tthis.$common.setLocal('token', res.data);\r\n\t\t\t\t\t\tthis.$common.setLocal('customerSeqId', user_json.userId);\r\n\t\t\t\t\t\tthis.$common.setLocal('customerName', user_json.userName || \"\");\r\n\t\t\t\t\t\tthis.$store.commit('saveUser',user_json)\r\n\t\t\t\t\t\tthis.is_login=true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取购物车数量\r\n\t\t\tloadCartNum(){\r\n\t\t\t\tlet customerSeqId=this.$common.getLocalSync('customerSeqId');\r\n\t\t\t\tif(!customerSeqId)return;\r\n\t\t\t\tthis.$api.get('/o2oShopingCart/getEffectiveGoodsNum',{\r\n\t\t\t\t\tparams:{\r\n\t\t\t\t\t\tcustomerSeqId:this.$common.getLocalSync('customerSeqId')\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tif(res.code==200){\r\n\t\t\t\t\t\tif(res.data>99){\r\n\t\t\t\t\t\t\tthis.cart_num='99+';\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tthis.cart_num=res.data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 预览图片\r\n\t\t\tpreviewPhoto(e) {\r\n\t\t\t\tlet index = e.currentTarget.dataset.index;\r\n\t\t\t\tlet list = this.good_detail.o2oChgPicList.map((item, index) => {\r\n\t\t\t\t\treturn item.url;\r\n\t\t\t\t});\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent: list[index],\r\n\t\t\t\t\turls: list,\r\n\t\t\t\t\tlongPressActions: {\r\n\t\t\t\t\t\titemList: ['保存图片'],\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\t\t\tsrc: list[res.index],\r\n\t\t\t\t\t\t\t\tsuccess: function(image) {\r\n\t\t\t\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\t\t\t\t\tfilePath: image.path,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '图片保存成功',\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonImageLoad(item,k){\r\n\t\t\t\tif(this.good_detail){\r\n\t\t\t\t\tlet img=this.good_detail.o2oChgPicList[k];\r\n\t\t\t\t\tthis.$set(img, 'loaded', 'loaded');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.visi-hidden {\r\n\t\tvisibility: hidden;\r\n\t}\r\n\t.goods-box {\r\n\t\twidth: 100%;\r\n\t\theight: 660rpx;\r\n\r\n\t\t.img {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t}\r\n\r\n\t.title-box {\r\n\t\twidth: calc(100% - 60rpx);\r\n\t\tpadding: 30rpx;\r\n\t\tbackground: white;\r\n\r\n\t\t.price {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: auto;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.number {\r\n\t\t\t\tcolor: #FFA098;\r\n\t\t\t\tfont-size: 44rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\r\n\t\t\t\t.ex_money {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\ttext-decoration: line-through;\r\n\t\t\t\t\tcolor: #a5a2a2;\r\n\t\t\t\t\tfont-weight: normal;\r\n\t\t\t\t\tmargin: 0 20rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.tips {\r\n\t\t\t\tcolor: #FD8C6B;\r\n\t\t\t\tborder: 1rpx solid rgba(253, 140, 107, 1);\r\n\t\t\t\tborder-radius: 6rpx;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tpadding: 8upx 10upx;\r\n\t\t\t\tline-height: 1;\r\n\t\t\t\tmargin-left: 8rpx;\r\n\t\t\t\tmargin-top: 4rpx;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t.tips-box {\r\n\t\t\t\t.bg-btn {\r\n\t\t\t\t\tpadding: 6rpx 20rpx;\r\n\t\t\t\t\tbackground:rgba(255,228,225,1);\r\n\t\t\t\t\tborder-radius:20rpx;\r\n\t\t\t\t\tcolor: #ED6458;\r\n\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\tmargin-left: 30rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.title {\r\n\t\t\tmargin: 20rpx 0;\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tline-height: 42rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.text {\r\n\t\t\t\twidth: 600rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.btn-share::after {\r\n\t\t\t\tborder: none;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t.btn-share {\r\n\t\t\t\tbackground: white;\r\n\t\t\t\tfont-size: 34rpx;\r\n\t\t\t\tline-height: 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.express-box {\r\n\t\twidth: calc(100% - 60rpx);\r\n\t\theight: 100rpx;\r\n\t\tline-height: 100rpx;\r\n\t\tpadding: 0 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: bold;\r\n\t\tbackground: white;\r\n\t\tmargin: 30rpx 0;\r\n\r\n\t\t.title {\r\n\t\t\tmargin-right: 70rpx;\r\n\t\t\tfloat: left;\r\n\t\t}\r\n\r\n\t\t.price {\r\n\t\t\tfloat: left;\r\n\t\t}\r\n\r\n\t\t.sell-num {\r\n\t\t\tcolor: #666666;\r\n\t\t\tfont-weight: 500;\r\n\t\t}\r\n\t}\r\n\r\n\t.shop-box {\r\n\t\twidth: calc(100% - 60rpx);\r\n\t\theight: 140rpx;\r\n\t\tbackground: white;\r\n\t\tpadding: 0 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-contenrt: space-between;\r\n\t\talign-items: center;\r\n\r\n\t\t.show-icon {\r\n\t\t\twidth: 88rpx;\r\n\t\t\theight: 88rpx;\r\n\t\t\tbackground: #E6E6E6;\r\n\t\t\tborder-radius: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tflex-shrink: 0;\r\n\r\n\t\t\t.img {\r\n\t\t\t\twidth: 50rpx;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.name-box {\r\n\t\t\twidth: 400rpx;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-content: center;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tmargin-left: 24rpx;\r\n\r\n\t\t\t.name {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tline-height: 50rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.score-box {\r\n\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t.score {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.iconxingxing.active {\r\n\t\t\t\t\tcolor: #FFA098;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.point {\r\n\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\tcolor: #444444;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.goto {\r\n\t\t\tflex-grow: 1;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.iconfont {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.good-intro {\r\n\t\tdisplay: flex;\r\n\t\tmargin: 30rpx;\r\n\r\n\t\t.tab-li {\r\n\t\t\tmargin-right: 30rpx;\r\n\t\t\tfont-size: 20rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tposition: relative;\r\n\t\t\tz-index: 2;\r\n\t\t}\r\n\r\n\t\t.active {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tfont-weight: bold;\r\n\r\n\t\t\t&::after {\r\n\t\t\t\tcontent: \"\";\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 90rpx;\r\n\t\t\t\theight: 12rpx;\r\n\t\t\t\tbackground: rgba(255, 160, 152, 1);\r\n\t\t\t\tborder-radius: 6rpx;\r\n\t\t\t\tleft: 10rpx;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tz-index: -1;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.good-detail {\r\n\t\tmargin: 34upx;\r\n\t\twidth: calc(100% - 108rpx);\r\n\t\tbackground: white;\r\n\t\tborder-radius: 14rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tpadding: 20rpx;\r\n\r\n\t\t.img {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t}\r\n\r\n\t.good-comment {\r\n\t\tmargin: 34upx;\r\n\t\twidth: calc(100% - 68rpx);\r\n\t\tbackground: white;\r\n\t\tborder-radius: 12rpx;\r\n\r\n\t\t.comment-li {\r\n\t\t\tpadding: 30rpx;\r\n\r\n\t\t\t.name-box {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.left {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.img {\r\n\t\t\t\t\twidth: 66rpx;\r\n\t\t\t\t\theight: 66rpx;\r\n\t\t\t\t\tborder-radius: 100%;\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t\tbackground: $color-primary;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.name {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.time {\r\n\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.comment-text {\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t.fix-box {\r\n\t\tjustify-content: space-between;\r\n\t\t.fix-btn {\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t\t.text {\r\n\t\t\tfont-size: 20rpx;\r\n\t\t}\r\n\t\t.confirm-btn {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tbackground: red;\r\n\t\t\tz-index: 10;\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\r\n\t\t.iconfont {\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.good-num {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 24rpx;\r\n\t\t\t\theight: 24rpx;\r\n\t\t\t\tline-height: 24rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\ttop: -10rpx;\r\n\t\t\t\tborder: 1px solid rgba(250, 104, 92, 1);\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tright: 0;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t\tfont-size: 14rpx;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tcolor: rgba(250, 104, 92, 1);\r\n\t\t\t\tbackground: white;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}