{"version":3,"sources":["uni-app:///main.js","webpack:///C:/work/haisheng_m/pages/member/order.vue?0bb2","webpack:///C:/work/haisheng_m/pages/member/order.vue?7acc","webpack:///C:/work/haisheng_m/pages/member/order.vue?c588","webpack:///C:/work/haisheng_m/pages/member/order.vue?cb1a","uni-app:///pages/member/order.vue","webpack:///C:/work/haisheng_m/pages/member/order.vue?ed63"],"names":["createPage","Page","renderjs","component","options","__file","components","slideTab","render","_vm","this","_h","$createElement","l0","_self","_c","__map","order_list","item","k","g0","$common","isAorC","orderType","f0","_f","totalMoney","g1","g2","f1","couponMoney","f2","jfMoney","f3","g3","$orig","__get_orig","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,2C,mDACAA,EAAWC,a;;;;2DCHX,yQACIC,EADJ,uKASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,yBACZ,aAAAF,E;;;;2GCvBf,snC;;;;2GCAA,8LAAIG,EAAa,CACfC,SAAU,WACR,OAAO,0JAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,YAAY,SAASC,EAAMC,GAChD,IAAIC,EAAKX,EAAIY,QAAQC,OAAOJ,EAAKK,WAE7BC,EAAKf,EAAIgB,GAAG,YAAPhB,CAAoBS,EAAKQ,YAE9BC,EAAKlB,EAAIY,QAAQC,OAAOJ,EAAKK,WAC7BK,EAAKnB,EAAIY,QAAQC,OAAOJ,EAAKK,WAE7BM,EAAKpB,EAAIgB,GAAG,YAAPhB,CAAoBS,EAAKY,aAE9BC,EAAKtB,EAAIgB,GAAG,YAAPhB,CAAoBS,EAAKc,SAE9BC,EAAKxB,EAAIgB,GAAG,YAAPhB,CAAoBS,EAAKQ,YAE9BQ,EAAKzB,EAAIY,QAAQC,OAAOJ,EAAKK,WACjC,MAAO,CACLY,MAAO1B,EAAI2B,WAAWlB,GACtBE,GAAIA,EACJI,GAAIA,EACJG,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJE,GAAIA,EACJE,GAAIA,EACJC,GAAIA,OAIRzB,EAAI4B,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACL5B,GAAIA,MAKR6B,GAAmB,EACnBC,EAAkB,GACtBnC,EAAOoC,eAAgB,G;;;;2DClDvB,ovBAA6rB,eAAG,G;;;;0ICqGhsB,kE,yvBAEA,CACA,mBACA,KAFA,WAGA,OACA,WACA,UACA,SACA,aAEA,CACA,WACA,SACA,eAEA,CACA,WACA,SACA,cAEA,CACA,WACA,SACA,gBAEA,CACA,UACA,SACA,kBAIA,cACA,YACA,WACA,aACA,aACA,gBAEA,kBACA,QACA,WACA,WACA,YAEA,YACA,kBACA,cAEA,aACA,oDACA,cACA,YACA,uBACA,WACA,YACA,aACA,UACA,MACA,MACA,WAKA,YACA,aACA,WACA,gBAEA,OArEA,SAqEA,GACA,WACA,6BAGA,UACA,WADA,WAMA,gBAEA,WAGA,SAEA,WAFA,SAEA,cACA,QACA,SACA,uCACA,wCACA,QACA,iCACA,SACA,WACA,yDACA,gBACA,iCAEA,kBACA,uBACA,wBADA,CAIA,QAEA,SAEA,WAEA,UAGA,4BACA,oCAIA,+BAIA,UAtCA,SAsCA,KAEA,WACA,uCACA,iBACA,SACA,kBACA,gBACA,aACA,kBACA,sBACA,oBACA,kBACA,eACA,kBACA,oBACA,aACA,eAEA,oCAEA,iBACA,aACA,eACA,iBAGA,qBACA,uBAGA,eACA,cACA,sCAMA,YA7EA,SA6EA,KACA,WACA,aACA,WACA,kBACA,oBACA,UACA,gDACA,QACA,wBACA,kBACA,cACA,oBACA,yCAGA,aAMA,aAnGA,SAmGA,kBACA,oDACA,QACA,0BACA,kBACA,cACA,oBACA,iEAIA,UA9GA,SA8GA,GACA,kBACA,mBACA,gCACA,+B;;;;2DC9SA,4yCAA8vC,eAAG,G","file":"pages/member/order.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/member/order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order.vue?vue&type=template&id=39cf9c12&\"\nvar renderjs\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/member/order.vue\"\nexport default component.exports","export * from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=template&id=39cf9c12&\"","var components = {\n  slideTab: function() {\n    return import(\n      /* webpackChunkName: \"components/slide-tab/slide-tab\" */ \"@/components/slide-tab/slide-tab.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.order_list, function(item, k) {\n    var g0 = _vm.$common.isAorC(item.orderType)\n\n    var f0 = _vm._f(\"formatNum\")(item.totalMoney)\n\n    var g1 = _vm.$common.isAorC(item.orderType)\n    var g2 = _vm.$common.isAorC(item.orderType)\n\n    var f1 = _vm._f(\"formatNum\")(item.couponMoney)\n\n    var f2 = _vm._f(\"formatNum\")(item.jfMoney)\n\n    var f3 = _vm._f(\"formatNum\")(item.totalMoney)\n\n    var g3 = _vm.$common.isAorC(item.orderType)\n    return {\n      $orig: _vm.__get_orig(item),\n      g0: g0,\n      f0: f0,\n      g1: g1,\n      g2: g2,\n      f1: f1,\n      f2: f2,\n      f3: f3,\n      g3: g3\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"box\">\r\n\t\t<view class='slide_tab'>\r\n\t\t\t<slide-tab :tab-list=\"tab_list\" :tabCur.sync=\"cur_status\" :tab-class=\"'text-center bg-white wuc-tab fixed'\"\r\n\t\t\t :tab-style=\"CustomBar1\" select-class=\"text-black\" @change=\"tabChange\"></slide-tab>\r\n\t\t</view>\r\n\t\t<view class=\"tab_box\">\r\n\t\t\t<mescroll-body ref=\"mescrollRef\" @init=\"mescrollInit\" @down=\"downCallback\" @up=\"upCallback\" :up=\"upOption\">\r\n\t\t\t\t<view class=\"box_all\" v-for=\"(item,k) in order_list\" :key=\"k\">\r\n\t\t\t\t\t<view class=\"order_box\">\r\n\t\t\t\t\t\t<view class=\"order_num\">\r\n\t\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t\t订单编号：{{item.sheetId}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"right\" v-if=\"item.orderHeadShopList[0].receiveMode=='JI_SHOU'\">\r\n\t\t\t\t\t\t\t\t寄售\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"right\" v-else>\r\n\t\t\t\t\t\t\t\t{{order_status[item.orderStatus]}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"shop-content\" v-for=\"(val,i) in item.orderHeadShopList\" :key=\"i\">\r\n\t\t\t\t\t\t\t<view class=\"shop-title\">\r\n\t\t\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"iconfont icondianpu1\"></view>\r\n\t\t\t\t\t\t\t\t\t{{val.merchantShopName}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"right\" v-if=\"val.receiveMode=='JI_SHOU'\">\r\n\t\t\t\t\t\t\t\t\t寄售\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"right\" v-else>\r\n\t\t\t\t\t\t\t\t\t{{orderShop_status[val.orderShopStatus]}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<navigator :url=\"'order_detail?sheetId='+item.sheetId\" class=\"order_cont\">\r\n\t\t\t\t\t\t\t\t<!-- 订单商品 -->\r\n\t\t\t\t\t\t\t\t<template v-for=\"(res,a) in val.orderDetList\">\r\n\t\t\t\t\t\t\t\t\t<order-goods :key=\"a\" :orderDetail=\"res\" :orderId=\"item.sheetId\" :orderType=\"item.orderType\"></order-goods>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<view class=\"total hidden\">\r\n\t\t\t\t\t\t\t\t\t合计： <text class=\"icon\" v-if=\"!$common.isAorC(item.orderType)\">￥</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"money\">{{item.totalMoney | formatNum}}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"icon\" v-if=\"$common.isAorC(item.orderType)\">{{money_text[item.orderType]}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t\t<view class=\"order_bottom order_bottom1\" v-if=\"item.orderStatus!='NOPAY'&&item.orderStatus!='FINISH'\">\r\n\t\t\t\t\t\t\t\t<!-- 待发货 -->\r\n\t\t\t\t\t\t\t\t<template v-if=\"item.orderStatus=='DEAL'\">\r\n\t\t\t\t\t\t\t\t\t<!-- 催货 -->\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<template v-if=\"val.orderShopStatus=='SEND'\">\r\n\t\t\t\t\t\t\t\t\t<view @tap=\"confirmOrder(val.seqId,k,i)\" class=\"bg-btn\">\r\n\t\t\t\t\t\t\t\t\t\t确认收货\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!-- 每个订单底部操作 -->\r\n\t\t\t\t\t\t<view class=\"order_box_bottom\" >\r\n\t\t\t\t\t\t\t<view class=\"total\">\r\n\t\t\t\t\t\t\t\t合计(含运费)：\r\n\t\t\t\t\t\t\t\t<text class=\"icon\" v-if=\"!$common.isAorC(item.orderType)\">￥</text>\r\n\t\t\t\t\t\t\t\t<text class=\"money\">\r\n\t\t\t\t\t\t\t\t<template v-if=\"item.orderType=='COUPON'\">\r\n\t\t\t\t\t\t\t\t\t{{item.couponMoney | formatNum}}\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<!--活动积分 -->\r\n\t\t\t\t\t\t\t\t<template v-else-if=\"item.orderType=='ACTIVE_POINT'\">\r\n\t\t\t\t\t\t\t\t\t{{item.jfMoney | formatNum}}\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<!--其他 -->\r\n\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t{{item.totalMoney | formatNum}}\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t<text class=\"icon\" v-if=\"$common.isAorC(item.orderType)\">{{money_text[item.orderType]}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<template v-if=\"item.orderHeadShopList[0].receiveMode!=='JI_SHOU'&&item.orderType!=='ACTIVE_POINT'\">\r\n\t\t\t\t\t\t\t\t<view class=\"order_bottom\" v-if=\"item.orderStatus=='NOPAY'\">\r\n\t\t\t\t\t\t\t\t\t<view @tap=\"cancelOrder(item.seqId,k)\" class=\"border-btn\">\r\n\t\t\t\t\t\t\t\t\t\t取消订单\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view @tap=\"weixinPay(item.seqId,k)\" class=\"bg-btn\">\r\n\t\t\t\t\t\t\t\t\t\t立即付款\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t</mescroll-body>\r\n\t\t</view>\r\n\t</view>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport orderGoods from './components/order-goods.vue';\r\n\timport slideTab from '@/components/slide-tab/slide-tab.vue';\r\n\timport MescrollMixin from \"@/components/mescroll-uni/mescroll-mixins.js\";\r\n\timport MescrollBody from \"@/components/mescroll-uni/mescroll-body.vue\"\r\n\texport default {\r\n\t\tmixins: [MescrollMixin], // 使用mixin\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttab_list: [{\r\n\t\t\t\t\t\tname: '全部',\r\n\t\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\t\tvalue: 'ALL'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '待付款',\r\n\t\t\t\t\t\tstatus: 1,\r\n\t\t\t\t\t\tvalue: 'NOPAY'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '处理中',\r\n\t\t\t\t\t\tstatus: 2,\r\n\t\t\t\t\t\tvalue: 'DEAL'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '已完成',\r\n\t\t\t\t\t\tstatus: 3,\r\n\t\t\t\t\t\tvalue: 'FINISH'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '寄售',\r\n\t\t\t\t\t\tstatus: 4,\r\n\t\t\t\t\t\tvalue: 'JI_SHOU'\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t],\r\n\t\t\t\torder_status: {\r\n\t\t\t\t\t'NOPAY': '待付款',\r\n\t\t\t\t\t'DEAL': '处理中',\r\n\t\t\t\t\t'FINISH': '已完成',\r\n\t\t\t\t\t'FAILED': '已关闭',\r\n\t\t\t\t\t'CANCEL': '订单已取消'\r\n\t\t\t\t},\r\n\t\t\t\torderShop_status:{\r\n\t\t\t\t\t'INIT': '',\r\n\t\t\t\t\t'DEAL': '待发货',\r\n\t\t\t\t\t'SEND': '已发货',\r\n\t\t\t\t\t'SIGN': '已完成'\r\n\t\t\t\t},\r\n\t\t\t\tmoney_text:{\r\n\t\t\t\t\t'ACTIVE_POINT':'积分',\r\n\t\t\t\t\t'COUPON':'团批劵',\r\n\t\t\t\t\t},\r\n\t\t\t\tcur_status: 0,\r\n\t\t\t\tcustom_bar: uni.getSystemInfoSync().statusBarHeight + 44,\r\n\t\t\t\torder_list: [],\r\n\t\t\t\tpop_show: false,\r\n\t\t\t\tpop_content: \"确定删除该订单？\",\r\n\t\t\t\tpop_type: 0, //0 删除订单 1取消订单\r\n\t\t\t\tdelete_id: 0,\r\n\t\t\t\tdelete_key: 0,\r\n\t\t\t\tupOption: {\r\n\t\t\t\t\tpage: {\r\n\t\t\t\t\t\tnum: 0, // 当前页码,默认0,回调之前会加1,即callback(page)会从1开始\r\n\t\t\t\t\t\tsize: 5 // 每页数据的数量,默认10\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\torderGoods,\r\n\t\t\tslideTab,\r\n\t\t\tMescrollBody\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tif (option.status) {\r\n\t\t\t\tthis.cur_status = option.status * 1\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tCustomBar1() {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tlet style = `top:${this.custom_bar}px;`;\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\tlet style = `top:0px`\r\n\t\t\t\t// #endif\r\n\t\t\t\treturn style;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取数据\r\n\t\t\tupCallback(page) {\r\n\t\t\t\tlet pageNum = page.num; // 页码, 默认从1开始\r\n\t\t\t\tlet pageSize = page.size; // 页长, 默认每页10条\r\n\t\t\t\tlet status = this.tab_list[this.cur_status].value\r\n\t\t\t\tthis.$api.get('/order/findHeadPageApp', {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\torderStatus: status=='JI_SHOU'?'ALL':status,\r\n\t\t\t\t\t\tpageno: pageNum,\r\n\t\t\t\t\t\tpagesize: pageSize,\r\n\t\t\t\t\t\tcustomerSeqId: this.$common.getLocalSync('customerSeqId'),\r\n\t\t\t\t\t\tqueryString:'%',\r\n\t\t\t\t\t\treceiveMode:status=='JI_SHOU'?status:''\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tif (res.code && res.code != 200) {\r\n\t\t\t\t\t\tthis.mescroll.endErr();\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet data = res;\r\n\t\t\t\t\t// 接口返回的当前页数据列表 (数组)\r\n\t\t\t\t\tlet curPageData = data.list;\r\n\t\t\t\t\t// 接口返回的当前页数据长度 (如列表有26个数据,当前页返回8个,则curPageLen=8)\r\n\t\t\t\t\tlet curPageLen = curPageData.length;\r\n\t\t\t\t\t// 接口返回的总页数 (如列表有26个数据,每页10条,共3页; 则totalPage=3)\r\n\t\t\t\t\tlet totalPage = data.pages;\r\n\r\n\t\t\t\t\t//设置列表数据\r\n\t\t\t\t\tif (page.num == 1) this.order_list = []; //如果是第一页需手动置空列表\r\n\t\t\t\t\tthis.order_list = this.order_list.concat(curPageData); //追加新数据\r\n\r\n\t\t\t\t\t// 请求成功,隐藏加载状态\r\n\t\t\t\t\t//方法一(推荐): 后台接口有返回列表的总页数 totalPage\r\n\t\t\t\t\tthis.mescroll.endByPage(curPageLen, totalPage);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 微信支付\r\n\t\t\tweixinPay(seqId,k) {\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.$api.post('/payInfo/submitOrderPay', {\r\n\t\t\t\t\t\"orderHeadSeqId\": seqId,\r\n\t\t\t\t\t\"type\": 1\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tlet paymentData = res.data;\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\ttimeStamp: paymentData.timeStamp,\r\n\t\t\t\t\t\t\tnonceStr: paymentData.nonceStr,\r\n\t\t\t\t\t\t\tpackage: paymentData.package,\r\n\t\t\t\t\t\t\tsignType: 'MD5',\r\n\t\t\t\t\t\t\tpaySign: paymentData.paySign,\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"支付成功\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthat.order_list[k].orderStatus='DEAL'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\tcontent: \"支付失败\",\r\n\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (res.code == 10012) {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/login/login_wechat'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} \r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tcancelOrder(seqId,k) {\r\n\t\t\t\tlet self=this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t    title: '提示',\r\n\t\t\t\t   content:'确认取消订单？',\r\n\t\t\t\t    success: function (res) {\r\n\t\t\t\t        if (res.confirm) {\r\n\t\t\t\t           self.$api.get('/order/updateCancelStatus',{params:{\r\n\t\t\t\t           \t\tseqId:seqId,\r\n\t\t\t\t\t\t\t\torderStatus:'CANCEL'\r\n\t\t\t\t           }}).then(res=>{\r\n\t\t\t\t\t\t\t\tif(res.code==200){\r\n\t\t\t\t\t\t\t\t\tself.$box.toast(res.msg)\r\n\t\t\t\t\t\t\t\t\tself.order_list[k].orderStatus='CANCEL'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t           })\r\n\t\t\t\t        } else if (res.cancel) {\r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 确认收货\r\n\t\t\tconfirmOrder(seqId,k,i){\r\n\t\t\t\tthis.$api.get('/order/updateConfirmStatus',{params:{\r\n\t\t\t\t\tseqId:seqId,\r\n\t\t\t\t\torderShopStatus:'SIGN'\r\n\t\t\t\t}}).then(res=>{\r\n\t\t\t\t\tif(res.code==200){\r\n\t\t\t\t\tthis.$box.toast(res.msg)\r\n\t\t\t\t\tthis.order_list[k].orderHeadShopList[i].orderShopStatus='SIGN'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttabChange(index) {\r\n\t\t\t\tthis.cur_status = index;\r\n\t\t\t\tthis.order_list = [];\r\n\t\t\t\tthis.mescroll.resetUpScroll(true);\r\n\t\t\t\tthis.mescroll.scrollTo(0, 0)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n\t.slide_tab {\r\n\t\t// margin-top: var(--window-top);\r\n\t\toverflow: hidden;\r\n\t\twidth: 100%;\r\n\t\theight: 90rpx;\r\n\t}\r\n\t.box_all {\r\n\r\n\t\tmargin-bottom: 30upx;\r\n\t}\r\n\r\n\t.order_box {\r\n\t\twidth: calc(100% - 80rpx);\r\n\t\tbackground: white;\r\n\t\tborder-radius: 20upx;\r\n\t\tmargin: 20upx auto;\r\n\t\tmargin-bottom: 0;\r\n\t\tpadding: 20upx;\r\n\t\toverflow: hidden;\r\n\r\n\t\t.shop-content {\r\n\t\t\twidth: calc(100% - 40rpx);\r\n\t\t\tmargin: 0 auto;\r\n\t\t\theight: auto;\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t.shop-title {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\theight: 90rpx;\r\n\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t.left {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.iconfont {\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.order_num {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100upx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.left {\r\n\t\t\t\tfont-size: 28upx;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tcolor: rgba(0, 0, 0, 1);\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\tfont-size: 30upx;\r\n\t\t\t\tfont-weight: 800;\r\n\t\t\t\tcolor: rgba(239, 116, 17, 1);\r\n\t\t\t}\r\n\r\n\t\t\t.text-black {\r\n\t\t\t\tcolor: black;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.order_box_bottom{\r\n\t\t\t.total {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\ttext-align: right;\r\n\t\t\t\tcolor: #000;\r\n\t\t\t\tfont-size: 25upx;\r\n\t\t\t\r\n\t\t\t\t.icon {\r\n\t\t\t\t\tfont-size: 24upx;\r\n\t\t\t\t\tfont-weight: 800;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t.money {\r\n\t\t\t\t\tfont-size: 33upx;\r\n\t\t\t\t\tfont-weight: 800;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t.order_cont {\r\n\r\n\t\t\t.total {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\ttext-align: right;\r\n\t\t\t\tcolor: #000;\r\n\t\t\t\tfont-size: 25upx;\r\n\r\n\t\t\t\t.icon {\r\n\t\t\t\t\tfont-size: 24upx;\r\n\t\t\t\t\tfont-weight: 800;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.money {\r\n\t\t\t\t\tfont-size: 33upx;\r\n\t\t\t\t\tfont-weight: 800;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t.order_bottom {\r\n\t\t\twidth: 400upx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\ttext-align: right;\r\n\t\t\tfloat: right;\r\n\t\t\tmargin: 38upx 0;\r\n\t\t\tmargin-bottom: 20upx;\r\n\t\t\tclear: both;\r\n\t\t}\r\n\r\n\t\t.order_bottom1 {\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\r\n\r\n\t}\r\n</style>\n","import mod from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/setup/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}